<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<style>
.container {
  width: 600px;
}
</style>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


</head>
<body>
<div class="container">     
<div style='background-color:navy;font-size:150%;color:white;position:relative;'>
  자바85기^^

  <div style='position:absolute;right:0px;top:0px;font-size:15px;'>
    <a href='/webapp01/auth/form.do'
       class="btn btn-success btn-xs">로그인</a></div> 

</div>


<h1>게시물 목록조회2</h1>
<p><a href='form.html' class="btn btn-primary btn-sm">새 글</a></p>

<table id="boardTable" class="table table-hover">
<thead>
<tr>
  <th>번호</th>
  <th>제목</th>
  <th>등록일</th>
  <th>조회수</th>
</tr>
</thead>
<tbody></tbody>
</table>
      
<p style='background-color:yellow; text-align:center;'>
  이 예제는 자바85기에서 사용한 것입니다.2</p>
</div>

<script>

loadTable()

function loadTable() {
  var xhr = new XMLHttpRequest();
  xhr.onreadystatechange = function(result) {
    if (xhr.readyState != 4)
      return;
    
    if (xhr.status != 200) {
      alert("서버에 잘못 요청했습니다.")
      return;
    }
    
    var arr = JSON.parse(xhr.responseText)
    
    var contents = ""
    
    for (var i in arr) {
    	contents += "<tr>" +
    	  "<td>" + arr[i].no + "</td>" + 
    	  "<td><a href='detail.do?no=" + arr[i].no + "'>" + arr[i].title + "</a></td>" +
    	  "<td>" + arr[i].createdDate + "</td>" +
    	  "<td>" + arr[i].viewCount + "</td>" + 
    	  "</tr>"
    }
    
    document.querySelector("#boardTable tbody").innerHTML = contents;
  }
  //xhr.open("GET", "list.json", true)
  //xhr.open("GET", "test.jsp", true)
  xhr.open("GET", "test.txt", true)
  xhr.send() 
}

</script>


</body>
</html>




